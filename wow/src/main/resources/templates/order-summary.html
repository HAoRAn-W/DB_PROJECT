<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>

    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <title>WoW | Select Cars</title>

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Construction Html5 Template">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="author" content="Themefisher">
    <meta name="generator" content="Themefisher Constra HTML Template v1.0">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.png}"/>

    <!-- Themefisher Icon font -->
    <link rel="stylesheet" th:href="@{/plugins/themefisher-font/style.css}">
    <!-- bootstrap.min css -->
    <link rel="stylesheet" th:href="@{/plugins/bootstrap/css/bootstrap.min.css}">

    <!-- Animate css -->
    <link rel="stylesheet" th:href="@{/plugins/animate/animate.css}">
    <!-- Slick Carousel -->
    <link rel="stylesheet" th:href="@{/plugins/slick/slick.css}">
    <link rel="stylesheet" th:href="@{/plugins/slick/slick-theme.css}">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" th:href="@{/css/style.css}">

</head>

<body id="body">

<!-- Start Top Header Bar -->
<section class="top-header" th:insert="header :: top-header"></section><!-- End Top Header Bar -->


<!-- Main Menu Section -->
<section class="menu" th:insert="header :: menu"></section>

<section class="page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="content">
                    <h1 class="page-name">My Orders</h1>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="user-dashboard page-wrapper">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="dashboard-wrapper user-dashboard">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>Service ID</th>
                                <th>Pick Up Date</th>
                                <th>Drop Off Date</th>
                                <th>Vehicle</th>
                                <th>Status</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="rentalServiceEntity, rentalServiceEntityStat: ${rentalServiceEntityList}" >
                                <td><a th:text="'#' + ${rentalServiceEntity.serviceId}" th:href="@{/service-detail(serviceId=${rentalServiceEntity.serviceId})}"></a></td>
                                <td><span th:text="${#dates.format(rentalServiceEntity.pDate, 'yyyy-MM-dd')}"></span></td>
                                <td><span th:text="${#dates.format(rentalServiceEntity.dDate, 'yyyy-MM-dd')}"></span></td>
                                <td><span th:text="${vehicleEntityList[rentalServiceEntityStat.index].model} + ' ' +
                                    ${vehicleEntityList[rentalServiceEntityStat.index].make} + ' ' +
                                    ${vehicleEntityList[rentalServiceEntityStat.index].carYear}"></span></td>
<!--                                order status-->
                                <td th:if="${rentalServiceEntity.serviceStatus == 'O'}">
                                    <span class="label label-primary" th:text="'OnGoing'"></span></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'A'}">
                                    <span class="label label-warning" th:text="'Processing'"></span></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'P'}">
                                    <span class="label label-danger" th:text="'Unpaid'"></span></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'F'}">
                                    <span class="label label-success" th:text="'Complete'"></span></td>
<!--                                btn for payment and end the service            -->
                                <td th:if="${rentalServiceEntity.serviceStatus == 'O'}">
                                    <a th:href="@{/order-end(serviceId=${rentalServiceEntity.serviceId})}" class="btn btn-default">End</a></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'A'}">
                                    <span th:text="' '"></span></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'P'}">
                                    <a th:href="@{/pay(serviceId=${rentalServiceEntity.serviceId})}"
                                       class="btn btn-default">Pay</a></td>
                                <td th:if="${rentalServiceEntity.serviceStatus == 'F'}">
                                    <span th:text="' '"></span></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<footer class="footer section text-center" th:insert="footer :: footer"></footer>
<!--
Essential Scripts
=====================================-->

<!-- Main jQuery -->
<script src="plugins/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.1 -->
<script src="plugins/bootstrap/js/bootstrap.min.js"></script>
<!-- Bootstrap Touchpin -->
<script src="plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
<!-- Instagram Feed Js -->
<script src="plugins/instafeed/instafeed.min.js"></script>
<!-- Video Lightbox Plugin -->
<script src="plugins/ekko-lightbox/dist/ekko-lightbox.min.js"></script>
<!-- Count Down Js -->
<script src="plugins/syo-timer/build/jquery.syotimer.min.js"></script>

<!-- slick Carousel -->
<script src="plugins/slick/slick.min.js"></script>
<script src="plugins/slick/slick-animation.min.js"></script>

<!-- Google Mapl -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"></script>
<script type="text/javascript" src="plugins/google-map/gmap.js"></script>

<!-- Main Js File -->
<script src="js/script.js"></script>


</body>
</html>